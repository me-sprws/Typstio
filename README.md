# Typstio

Библиотека генерации и компиляции `Typst` кода. Основным компонентом является `ContentWriter`, который аггрегирует в себе все визуальные элементы (текст, таблицы, блоки и др). Благодаря этому, можно ввести в ваши проекты механизм генерации отчетов, расписаний, списков и много чего еще.

Логика описания вашего документа 1 в 1 повторяет написание на `Typst`, сохраняется та же линейность, что не составит труда освоить использование этого решения знающим `Typst` разработчикам.

## Пример

```C#
var document = new ContentWriter();
var image = new Image("profile.jpg", width: "20%");

document.Write(new Figure(image, "About me"));
document.WriteEmptyBlock();

document.Write(CreateUserTable());
document.WriteEmptyBlock();

document.Write(new Box(c => c.WriteString("Hello from Box"), new Rgb("#ff4136")));

Table CreateUserTable()
{
    var items = new Content[]
    {
        _ => { },
        c => c.Write(new Strong("Name")),
        c => c.Write(new Strong("Phone")),
        
        c => c.WriteString("1"),
        c => c.WriteString("Sparrow"),
        c => c.WriteString("+79531345309").Linebreak()
              .WriteString("+89231365311")
    };
    
    return new Table(("auto", "1fr", "1fr"), items, inset: "10pt", align: "horizon");
}
```

Результат:

![Sample-1](./static/sample1.png)

---

# UI TODO

**Легкий, простой, резвый, интуитивный и понятный интерфейс** - вот как хочется описать то, чего пока нет, но чего хочется. 

Разрабатывая решение `Typstio`, меня закономерно посетила мысль о написании небольшого приложения для PC, которое бы позволило применить непосредственно мои наработки, а так же придать им визуальный окрас и функциональность. Например, небольшой генератор отчетов или документов с привязкой данных, провайдерами баз данных и пользовательскими визуальными настройками. 

Далее хочу показать небольшой архитектурный план, по которому я бы осмелился реализовать мою задумку, но не уверен, дойдут ли руки.

![](./static/Plan.jpg)

### Стек, отрисовка и привязка

Стэк для PC прост: `WPF, Prism, MahApps, RX`.

Верстка документа и привязка данных через `WPF` компоненты, которые после конвертируются в `Typstio` и затем компилируются в `Typst`, а затем в `PDF`.


